# @package __global__
# Music Multiple - Text to Music Conditioner
# Enhanced for multiple genres and latin music support

classifier_free_guidance:
  training_dropout: 0.3
  inference_coef: 3.0

attribute_dropout: {}

fuser:
  cross_attention_pos_emb: false
  cross_attention_pos_emb_scale: 1
  sum: []
  prepend: []
  cross: [description]
  input_interpolate: []

conditioners:
  description:
    model: t5
    t5:
      name: t5-base
      finetune: false
      word_dropout: 0.3
      normalize_text: false
      
  # Music Multiple: Additional conditioners for genre control
  genre:
    model: genre_embedding
    genre_embedding:
      genres: ["salsa", "reggaeton", "bachata", "cumbia", "rock", "electronic", "jazz"]
      out_dim: 16
      
  duration:
    model: duration_embedding  
    duration_embedding:
      presets: ["short", "medium", "long", "extended"]
      out_dim: 8

dataset:
  train:
    merge_text_p: 0.25
    drop_desc_p: 0.5
    drop_other_p: 0.5
    
# Music Multiple: Enhanced training for multiple genres
music_multiple:
  genre_aware_training: true
  multi_lingual_support: true
  latin_music_optimized: true